<?php
/*   __________________________________________________
    |              on 2.0.12              |
    |__________________________________________________|
*/
 goto UkBhX; UkBhX: defined("\115\117\117\104\114\105\x5f\x49\x4e\124\x45\x52\x4e\x41\x4c") || die; goto AbjaE; AbjaE: require_once $CFG->dirroot . "\x2f\142\x6c\x6f\x63\x6b\163\x2f\x75\x73\145\x5f\163\164\x61\164\x73\57\154\x6f\143\x61\x6c\154\151\x62\56\x70\150\x70"; goto ws3W3; ws3W3: class block_use_stats_external_extended extends external_api { public static function get_user_stats_parameters() { return new external_function_parameters(array("\165\x69\x64\163\157\165\x72\143\145" => new external_value(PARAM_ALPHA, "\x53\157\165\x72\143\x65\x20\146\x6f\x72\x20\x75\x73\145\x72\40\x69\x64\40"), "\x75\151\x64" => new external_value(PARAM_TEXT, "\x55\163\145\162\x20\151\144\x65\156\x74\151\146\151\145\162"), "\143\x69\x64\x73\x6f\165\162\143\145" => new external_value(PARAM_ALPHA, "\143\x6f\165\162\x73\145\x20\x69\144", VALUE_DEFAULT, "\151\x64\x6e\165\x6d\x62\x65\x72", true), "\x63\x69\144" => new external_value(PARAM_TEXT, "\103\x6f\x75\x72\163\x65\x20\151\144\145\x6e\164\151\146\151\145\162", VALUE_DEFAULT, 0), "\146\x72\x6f\x6d" => new external_value(PARAM_INT, "\x70\145\x72\x69\x6f\x64\x20\x73\x74\141\x72\164\x20\164\151\x6d\x65\x73\164\x61\x6d\160", VALUE_DEFAULT, 0, true), "\x74\157" => new external_value(PARAM_INT, "\x70\x65\x72\151\x6f\144\x20\145\x6e\x64\40\x74\x69\155\x65\163\x74\141\155\160", VALUE_DEFAULT, 0, true), "\x73\x63\x6f\x72\x65" => new external_value(PARAM_INT, "\107\145\164\40\x63\x6f\165\162\x73\145\x20\x73\143\157\162\x65\40\142\x61\x63\153", VALUE_DEFAULT, 1, true))); } public static function get_user_stats($Gdkmx, $MlICt, $bBq30, $nvVDT, $C2vqr, $qQNDA, $cVGmr = 0) { goto I1Vux; rGrrG: $o3J1B->id = $wTg6C->id; goto C1kup; qHroy: xnOYH: goto wR3dC; C1kup: $o3J1B->username = $wTg6C->username; goto UKW7P; iFLaa: return $e8K8I; goto qHroy; Mc4tq: $o2aXD = 0; goto O6Kr4; ue0rF: if (!empty($qQNDA)) { goto Ra6m7; } goto oU8f2; YwQd5: $DxP2I = $o2aXD ? round($Ay4Dp / $o2aXD) : 0; goto Y2dPS; wR3dC: $OGKhP = use_stats_aggregate_logs($Ayido, $C2vqr, $qQNDA); goto KUzAm; PJGBv: $e8K8I->courses = array(); goto btZFY; yieaJ: $zgrbU->lastsession = $WSqmf->sessionstart; goto WrshU; YZXYC: $Ayido = use_stats_extract_logs($C2vqr, $qQNDA, $wTg6C->id, $BKMWk); goto RaUJn; bcTNB: $BKMWk = self::validate_course_parameters($zFR2u); goto ue0rF; VoCJf: $wTg6C = self::validate_user_parameters($zFR2u); goto h3CI1; TmsTE: $Nm4DN = array_shift($OGKhP["\163\x65\163\x73\x69\157\156\163"]); goto pF0yv; NVLxU: $e8K8I->query = $HPZud; goto IEzzq; OSQwm: $e8K8I = new StdClass(); goto LLuCO; Clx_3: foreach (array_keys($OGKhP["\143\x6f\165\162\163\x65"]) as $IaiRN) { goto YTiJ9; Wy4cQ: y899E: goto UZ2lq; QBguY: $BrDdA->id = $q54lb->id; goto UU3Zk; UbPC3: BDXG7: goto Y7z_y; MaOuA: d3SkI: goto ZNJ9h; XXupA: $BrDdA = new StdClass(); goto QBguY; hEKBE: QfVrB: goto pQzLa; kFvj3: goto BDXG7; goto l0hSb; WQjEU: uHQqk: goto Wy4cQ; O5fbW: $BrDdA->fullname = format_string($q54lb->fullname); goto Q2i4s; e7TaX: if (!$cVGmr) { goto PNvIp; } goto tY_cG; VaBi2: $BrDdA->sitecoursetime = 0 + @$OGKhP["\x63\x6f\x75\162\163\145"][SITEID]->elapsed; goto e7TaX; awBqx: goto BDXG7; goto hEKBE; BtLue: if ($OQwzg) { goto d3SkI; } goto qpsVc; pQzLa: $q54lb = $DB->get_record("\x63\x6f\x75\162\163\145", array("\x69\144" => $IaiRN)); goto XRnSO; qpsVc: $BrDdA->score = "\x2d"; goto jQWnp; YTiJ9: if (!($IaiRN == 0 || $IaiRN == SITEID)) { goto QfVrB; } goto awBqx; d2Abs: goto y899E; goto ZO387; aUY4l: $OQwzg = $DB->get_record("\147\162\x61\144\145\x5f\x67\x72\141\144\145\163", array("\151\164\145\x6d\151\x64" => $iyenT->id, "\165\x73\145\162\x69\x64" => $wTg6C->id)); goto BtLue; l0hSb: pl_5d: goto XXupA; jQWnp: goto uHQqk; goto MaOuA; UU3Zk: $BrDdA->shortname = $q54lb->shortname; goto oiNbn; tY_cG: if ($iyenT = $DB->get_record("\147\x72\141\x64\145\x5f\151\164\145\155\x73", array("\151\164\x65\x6d\x74\x79\x70\x65" => "\143\157\x75\162\163\145", "\x63\x6f\165\x72\163\145\x69\144" => $IaiRN))) { goto gl0vy; } goto QSs5B; Q2i4s: $BrDdA->activitytime = 0 + @$OGKhP["\x61\x63\164\x69\x76\x69\x74\x69\x65\x73"][$IaiRN]->elapsed; goto jMq0k; ZO387: gl0vy: goto aUY4l; AHc1r: $e8K8I->courses[] = $BrDdA; goto UbPC3; XRnSO: if ($q54lb) { goto pl_5d; } goto kFvj3; jMq0k: $BrDdA->coursetime = $OGKhP["\x63\x6f\165\x72\163\x65"][$IaiRN]->elapsed; goto e4aOp; UZ2lq: PNvIp: goto AHc1r; ZNJ9h: $BrDdA->score = $OQwzg->rawgrade; goto WQjEU; e4aOp: $BrDdA->coursetotal = $OGKhP["\x63\x6f\x75\162\x73\145\164\157\x74\141\154"][$IaiRN]->elapsed; goto G7jAf; oiNbn: $BrDdA->idnumber = $q54lb->idnumber; goto O5fbW; QSs5B: $BrDdA->score = "\55"; goto d2Abs; G7jAf: $BrDdA->othertime = 0 + @$OGKhP["\x6f\x74\150\145\x72"]->elapsed; goto VaBi2; Y7z_y: } goto P3VvY; h3CI1: $zFR2u = array("\x63\151\x64\x73\157\165\x72\143\x65" => $bBq30, "\x63\x69\x64" => $nvVDT); goto bcTNB; THMUs: $zgrbU->meansession = $DxP2I; goto TRfYC; fF9x0: $zFR2u = array("\x75\x69\144\x73\157\165\x72\x63\145" => $Gdkmx, "\x75\151\144" => $MlICt); goto VoCJf; zV6aN: $Ay4Dp = 0; goto Mc4tq; pF0yv: $zgrbU->firstsession = $Nm4DN->sessionstart; goto zif_v; WrshU: $zgrbU->sessionmax = $Abvpz; goto HaYFb; O6Kr4: foreach ($OGKhP["\x73\145\x73\x73\151\157\x6e\163"] as $Ow1ZA) { goto mws06; ARrcG: wxJHA: goto UrS91; UrS91: $Ay4Dp += $Ow1ZA->elapsed; goto RKDfR; iHL5e: if (!($Ow1ZA->elapsed < $t47tq)) { goto wxJHA; } goto hOc75; Gvwtr: n0bQB: goto YYxF5; VChxd: $Abvpz = $Ow1ZA->elapsed; goto Ys2ba; RKDfR: $o2aXD++; goto Gvwtr; mws06: if (!($Ow1ZA->elapsed > $Abvpz)) { goto vywjJ; } goto VChxd; hOc75: $t47tq = $Ow1ZA->elapsed; goto ARrcG; Ys2ba: vywjJ: goto iHL5e; YYxF5: } goto pkBhI; IEzzq: $e8K8I->sessions = new StdClass(); goto PJGBv; CNOGl: goto qgHW0; goto kCEba; IlzIe: PZgZb: goto JyR5D; btZFY: if (!empty($Ayido)) { goto xnOYH; } goto iFLaa; KUzAm: if (!array_key_exists("\x63\x6f\x75\x72\163\x65", $OGKhP)) { goto PZgZb; } goto pO235; I1Vux: global $DB; goto fF9x0; P3VvY: GqJJ0: goto IlzIe; pkBhI: B4lbv: goto YwQd5; k0Zxg: Ra6m7: goto zGm6c; zGm6c: if (!empty($BKMWk)) { goto iiuT0; } goto fAOpZ; HZuCh: $HPZud->to = $qQNDA; goto OSQwm; HaYFb: $zgrbU->sessionmin = $t47tq; goto THMUs; LLuCO: $e8K8I->user = $o3J1B; goto NVLxU; JyR5D: return $e8K8I; goto A90Dl; TRfYC: $e8K8I->sessions = $zgrbU; goto Clx_3; Y2dPS: $zgrbU = new Stdclass(); goto dOXaN; oU8f2: $qQNDA = time(); goto k0Zxg; fZ7Yb: $HPZud = new StdClass(); goto pdTXl; BQ5n0: $o3J1B = new StdClass(); goto rGrrG; dOXaN: $zgrbU->sessions = count($OGKhP["\163\x65\x73\163\151\157\x6e\163"]); goto TmsTE; pdTXl: $HPZud->from = $C2vqr; goto HZuCh; y3B47: $t47tq = 1000000; goto zV6aN; pO235: $Abvpz = 0; goto y3B47; kCEba: iiuT0: goto YZXYC; fAOpZ: $Ayido = use_stats_extract_logs($C2vqr, $qQNDA, $wTg6C->id); goto CNOGl; UKW7P: $o3J1B->idnumber = $wTg6C->idnumber; goto fZ7Yb; RaUJn: qgHW0: goto BQ5n0; zif_v: $WSqmf = array_pop($OGKhP["\163\x65\163\x73\x69\157\x6e\x73"]); goto yieaJ; A90Dl: } public static function get_user_stats_returns() { return new external_single_structure(array("\x75\163\145\x72" => new external_single_structure(array("\151\x64" => new external_value(PARAM_INT, "\125\x73\x65\162\40\151\144"), "\x69\144\156\165\155\x62\145\x72" => new external_value(PARAM_TEXT, "\125\x73\145\x72\40\151\144\156\165\155\142\x65\162"), "\x75\x73\145\x72\156\x61\x6d\x65" => new external_value(PARAM_TEXT, "\125\163\x65\x72\x20\x75\163\145\162\156\x61\155\145"))), "\x71\x75\x65\x72\171" => new external_single_structure(array("\x66\x72\x6f\155" => new external_value(PARAM_INT, "\x46\162\157\155\40\144\141\x74\145"), "\x74\x6f" => new external_value(PARAM_INT, "\124\157\40\144\x61\x74\145"))), "\163\x65\163\163\x69\157\156\163" => new external_single_structure(array("\163\x65\x73\163\x69\157\x6e\163" => new external_value(PARAM_INT, "\x4e\165\x6d\142\x65\x72\x20\157\146\x20\163\145\x73\163\151\157\156\163", VALUE_OPTIONAL, 0, true), "\146\x69\x72\163\x74\163\145\x73\x73\x69\x6f\x6e" => new external_value(PARAM_INT, "\x46\151\x72\x73\x74\x20\163\145\163\x73\151\157\156\x20\x64\x61\164\145", VALUE_OPTIONAL, 0, true), "\x6c\x61\163\x74\163\145\x73\163\x69\x6f\156" => new external_value(PARAM_INT, "\x4c\141\x73\164\x20\163\x65\163\163\x69\157\x6e\40\x64\x61\164\145", VALUE_OPTIONAL, 0, true), "\x73\x65\x73\x73\x69\x6f\156\155\151\156" => new external_value(PARAM_INT, "\x4d\x69\156\x20\x73\x65\x73\163\x69\x6f\156\x20\x64\x75\x72\x61\x74\151\x6f\x6e", VALUE_OPTIONAL, 0, true), "\163\x65\163\163\151\157\x6e\155\141\170" => new external_value(PARAM_INT, "\x4d\x61\x78\x20\163\145\163\163\x69\157\x6e\x20\x64\165\162\141\x74\151\x6f\x6e", VALUE_OPTIONAL, 0, true), "\155\x65\141\x6e\163\x65\163\163\151\157\156" => new external_value(PARAM_INT, "\x4d\145\141\x6e\40\x73\145\163\x73\151\157\x6e\40\x64\165\x72\x61\164\151\157\156", VALUE_OPTIONAL, 0, true))), "\143\157\x75\162\163\145\x73" => new external_multiple_structure(new external_single_structure(array("\151\x64" => new external_value(PARAM_INT, "\103\157\x75\x72\x73\145\x20\151\144"), "\151\x64\156\165\x6d\142\145\x72" => new external_value(PARAM_TEXT, "\x43\x6f\x75\162\163\x65\40\x69\x64\x6e\165\155\142\x65\162"), "\163\x68\x6f\162\x74\156\x61\x6d\x65" => new external_value(PARAM_TEXT, "\103\x6f\x75\162\x73\145\x20\x73\150\x6f\162\164\x6e\141\x6d\x65"), "\x66\x75\154\154\156\x61\x6d\145" => new external_value(PARAM_TEXT, "\103\x6f\x75\x72\x73\145\40\x66\165\154\154\156\141\155\x65"), "\141\x63\164\x69\x76\151\164\171\164\x69\x6d\x65" => new external_value(PARAM_INT, "\x45\154\141\160\163\145\x64\x20\x74\151\155\x65\40\151\156\x20\141\143\x74\x69\166\151\x74\151\x65\x73"), "\x63\157\x75\x72\163\145\164\151\x6d\x65" => new external_value(PARAM_INT, "\x45\x6c\x61\x70\x73\x65\x64\40\x74\x69\155\x65\40\x69\156\x20\x63\157\165\x72\x73\x65\x20\157\x75\x74\163\x69\144\145\x20\141\143\x74\x69\x76\x69\164\x69\x65\x73"), "\x63\157\165\162\x73\145\164\157\x74\141\154" => new external_value(PARAM_INT, "\x45\154\x61\160\x73\x65\144\40\164\151\155\x65\40\151\156\x20\x63\x6f\165\162\x73\145\x20\x28\141\154\x6c\40\164\151\x6d\x65\163\51"), "\157\x74\x68\145\162\x74\x69\155\x65" => new external_value(PARAM_INT, "\x45\x6c\x61\160\x73\145\144\40\164\151\x6d\145\40\151\x6e\40\163\x79\x73\x74\x65\155\x20\141\162\x65\141\163"), "\x73\151\x74\145\143\x6f\x75\162\163\x65\x74\x69\155\x65" => new external_value(PARAM_INT, "\x45\x6c\x61\160\x73\x65\x64\x20\164\151\155\145\40\x69\156\x20\163\x69\x74\x65\x20\143\x6f\165\x72\x73\x65\40\x64\x75\x72\x69\x6e\x67\x20\x73\x65\163\x73\151\157\156"), "\x73\143\x6f\x72\145" => new external_value(PARAM_TEXT, "\106\x69\156\x61\154\x20\x63\x6f\x75\x72\163\145\40\x67\x72\141\x64\145", VALUE_OPTIONAL)))))); } public static function get_users_course_stats_parameters() { $IvB7V = "\x65\x6c\x61\160\163\145\144\x2c\x65\x76\145\156\x74\x73\x2c\143\157\165\x72\x73\x65\145\154\141\160\163\145\x64\54\143\x6f\x75\x72\163\x65\145\x76\145\156\x74\x73\54\x6f\164\150\145\162\x65\154\141\x70\163\145\x64\54\157\164\150\x65\x72\x65\x76\145\x6e\x74\163"; return new external_function_parameters(array("\165\x69\144\163\157\x75\x72\143\x65" => new external_value(PARAM_ALPHA, "\124\150\x65\40\x73\157\x75\x72\x63\145\40\x66\x6f\x72\40\165\x73\145\x72\x20\151\x64\145\x6e\x74\x69\146\151\x65\x72"), "\x75\x69\x64\163" => new external_multiple_structure(new external_value(PARAM_TEXT, "\141\x6e\x20\165\151\x64")), "\143\x69\x64\x73\x6f\x75\162\x63\145" => new external_value(PARAM_ALPHA, "\143\x6f\x75\x72\x73\x65\40\x69\x64", VALUE_DEFAULT, "\x69\x64\156\165\x6d\142\x65\x72", true), "\143\x69\x64" => new external_value(PARAM_TEXT, "\x43\x6f\165\162\163\145\x20\x69\x64\x65\156\164\x69\146\151\x65\162", VALUE_DEFAULT, 0), "\x66\x72\x6f\155" => new external_value(PARAM_INT, "\x70\x65\x72\151\157\144\x20\x73\x74\x61\162\164\40\164\x69\155\145\163\x74\x61\x6d\x70", VALUE_DEFAULT, 0, true), "\164\x6f" => new external_value(PARAM_INT, "\160\145\162\151\x6f\x64\40\x65\156\144\40\164\151\x6d\145\163\164\x61\155\160", VALUE_DEFAULT, 0, true), "\x73\x63\157\x72\x65" => new external_value(PARAM_BOOL, "\x47\145\x74\x20\143\x6f\x75\162\163\145\40\163\143\x6f\162\145\x20\x62\141\163\x6b", VALUE_DEFAULT, true, true))); } public static function get_users_course_stats($Gdkmx, $OdLRw, $bBq30, $nvVDT, $C2vqr, $qQNDA, $cVGmr) { goto R9m3y; upqJw: $e8K8I = array(); goto hl5Ia; cO39m: $BKMWk = self::validate_course_parameters($zFR2u); goto upqJw; R9m3y: $zFR2u = array("\143\x69\144\163\x6f\x75\x72\143\x65" => $bBq30, "\x63\x69\144" => $nvVDT); goto cO39m; hl5Ia: foreach ($OdLRw as $MlICt) { goto AuOWE; acK96: sXG7T: goto U8Ob9; uPL2O: $e8K8I[] = self::get_user_course_stats($Gdkmx, $MlICt, $bBq30, $nvVDT, $C2vqr, $qQNDA, $cVGmr); goto acK96; HB_pZ: $wTg6C = self::validate_user_parameters($zFR2u); goto uPL2O; AuOWE: $zFR2u = array("\165\x69\x64\x73\x6f\x75\162\x63\145" => $Gdkmx, "\x75\x69\x64" => $MlICt); goto HB_pZ; U8Ob9: } goto CCGE1; PTllU: return $e8K8I; goto ki2J3; CCGE1: iup5q: goto PTllU; ki2J3: } public static function get_users_course_stats_returns() { return new external_multiple_structure(self::get_user_course_stats_returns()); } public static function get_users_stats_parameters() { $IvB7V = "\145\x6c\x61\x70\x73\x65\144\x2c\145\166\145\x6e\x74\x73\x2c\x63\x6f\x75\x72\x73\x65\145\154\x61\x70\x73\145\x64\54\143\157\x75\x72\x73\145\x65\166\145\156\164\x73\54\x6f\x74\150\x65\162\x65\x6c\x61\x70\163\x65\x64\x2c\x6f\x74\x68\x65\x72\145\x76\x65\x6e\164\163"; return new external_function_parameters(array("\165\x69\144\x73\x6f\165\162\x63\145" => new external_value(PARAM_ALPHA, "\x54\x68\145\40\163\157\165\162\x63\145\x20\x66\157\162\x20\x75\x73\x65\162\40\151\144\145\x6e\x74\151\146\151\x65\x72"), "\x75\x69\x64\x73" => new external_multiple_structure(new external_value(PARAM_TEXT, "\x61\x6e\x20\x75\151\144")), "\x63\x69\144\x73\157\x75\162\x63\145" => new external_value(PARAM_ALPHA, "\x63\x6f\165\x72\x73\145\40\x69\144", VALUE_DEFAULT, "\151\144\x6e\x75\155\x62\145\162", true), "\x63\x69\x64" => new external_value(PARAM_TEXT, "\x43\157\x75\162\x73\x65\x20\151\x64\145\x6e\164\151\x66\151\x65\162", VALUE_DEFAULT, 0), "\146\x72\x6f\x6d" => new external_value(PARAM_INT, "\x70\145\x72\x69\157\x64\x20\x73\x74\x61\162\164\40\x74\x69\x6d\x65\163\164\x61\155\x70", VALUE_DEFAULT, 0, true), "\164\x6f" => new external_value(PARAM_INT, "\x70\145\162\151\x6f\x64\40\145\156\144\x20\x74\x69\155\145\163\x74\x61\155\x70", VALUE_DEFAULT, 0, true), "\x73\x63\x6f\x72\x65" => new external_value(PARAM_BOOL, "\107\x65\164\x20\x63\x6f\165\x72\x73\x65\40\163\x63\x6f\162\x65\x20\142\141\163\x6b", VALUE_DEFAULT, true, true))); } public static function get_users_stats($Gdkmx, $OdLRw, $bBq30, $nvVDT, $C2vqr, $qQNDA, $cVGmr) { goto AmQc6; fnUOr: foreach ($OdLRw as $MlICt) { goto xISOn; xISOn: $zFR2u = array("\x75\x69\x64\163\x6f\x75\162\x63\145" => $Gdkmx, "\x75\151\x64" => $MlICt); goto FmpUD; FmpUD: $wTg6C = self::validate_user_parameters($zFR2u); goto YlteE; dKkgI: AbsUz: goto O2Rej; YlteE: $e8K8I[] = self::get_user_stats($Gdkmx, $MlICt, $bBq30, $nvVDT, $C2vqr, $qQNDA, $cVGmr); goto dKkgI; O2Rej: } goto ItvRO; ItvRO: GpI1Z: goto ZSam9; HE6QX: $BKMWk = self::validate_course_parameters($zFR2u); goto w8fxv; AmQc6: $zFR2u = array("\143\x69\144\x73\157\x75\162\143\x65" => $bBq30, "\x63\151\x64" => $nvVDT); goto HE6QX; w8fxv: $e8K8I = array(); goto fnUOr; ZSam9: return $e8K8I; goto Ssarg; Ssarg: } public static function get_users_stats_returns() { return new external_multiple_structure(self::get_user_stats_returns()); } protected static function validate_course_parameters($zFR2u) { goto bM2pt; thQxu: if (in_array($zFR2u["\x63\151\x64\163\157\165\x72\143\145"], array('', "\151\x64", "\151\x64\156\165\155\x62\145\x72", "\x73\150\157\x72\164\x6e\141\155\x65"))) { goto bDYbv; } goto C8JFt; DvuZl: XzlYq: goto o0A00; yu78n: bDYbv: goto W2_bd; o0A00: QwqG0: goto Z8awb; C8JFt: throw invalid_parameter_exception("\143\157\x75\x72\x73\145\x20\x73\x6f\x75\x72\x63\x65\40\x6e\157\x74\40\151\156\x20\x65\170\x70\145\x63\x74\145\x64\40\162\x61\156\x67\x65"); goto yu78n; Z8awb: return $BKMWk; goto PVS_5; W2_bd: switch ($zFR2u["\x63\x69\144\x73\x6f\x75\162\x63\145"]) { case '': return null; goto QwqG0; case "\151\144": goto Xz7tw; HCkPe: PMOs8: goto sfC_2; TnzO7: if ($BKMWk) { goto PMOs8; } goto eoCPD; sfC_2: goto QwqG0; goto KIA1Y; Xz7tw: $BKMWk = $DB->get_record("\x63\157\x75\162\163\145", array("\x69\144" => $zFR2u["\143\151\x64"])); goto TnzO7; eoCPD: throw new invalid_parameter_exception("\111\156\166\141\154\151\x64\40\x63\157\x75\162\x73\x65\x20\142\x79\x20\x69\x64\40" . $zFR2u["\143\151\144"]); goto HCkPe; KIA1Y: case "\x69\x64\156\x75\x6d\142\x65\162": goto QOdST; ldbKx: goto QwqG0; goto SudNT; AbuKw: throw new invalid_parameter_exception("\111\x6e\166\141\154\x69\x64\x20\143\157\x75\162\x73\145\x20\142\171\x20\151\x64\156\165\155\142\145\162\x20" . $zFR2u["\x63\x69\144"]); goto Vk5xH; QOdST: $BKMWk = $DB->get_record("\x63\x6f\165\x72\x73\x65", array("\151\144\x6e\x75\155\x62\145\162" => $zFR2u["\x63\x69\144"])); goto ONP14; ONP14: if ($BKMWk) { goto mWlTc; } goto AbuKw; Vk5xH: mWlTc: goto ldbKx; SudNT: case "\x73\150\157\x72\164\x6e\x61\x6d\145": goto OejLf; mSCI1: Rn0dH: goto jGvG1; OejLf: $BKMWk = $DB->get_record("\143\157\x75\x72\x73\x65", array("\163\x68\157\x72\164\x6e\141\155\145" => $zFR2u["\x63\x69\x64"])); goto dpfZx; EyIVv: throw new invalid_parameter_exception("\x49\156\166\141\x6c\x69\x64\40\143\157\165\x72\x73\x65\x20\x62\x79\40\151\x64\x6e\x75\155\x62\x65\x72\x20" . $zFR2u["\143\x69\144"]); goto mSCI1; dpfZx: if ($BKMWk) { goto Rn0dH; } goto EyIVv; jGvG1: } goto DvuZl; bM2pt: global $DB; goto thQxu; PVS_5: } protected static function validate_user_parameters($zFR2u) { goto CQ2pN; qCjfs: GdUiq: goto HQfeU; CQ2pN: global $DB; goto FtVda; X7Bwe: DUDP6: goto IVIFw; Npiw4: G0X_H: goto qCjfs; SQjXL: throw invalid_parameter_exception("\x75\163\x65\x72\40\163\157\165\x72\x63\x65\40\156\157\164\40\151\156\40\x65\170\x70\145\x63\164\x65\x64\x20\x72\141\156\x67\x65"); goto X7Bwe; IVIFw: switch ($zFR2u["\x75\151\x64\x73\x6f\165\162\x63\x65"]) { case '': return null; goto GdUiq; case "\x69\144": goto z3AkC; mx7kU: if ($wTg6C) { goto wxiD0; } goto VCqqE; VCqqE: throw new invalid_parameter_exception("\x49\156\x76\141\154\151\144\x20\165\163\x65\162\x20\142\x79\40\151\x64\x20" . $zFR2u["\x75\x69\144"]); goto J8dGm; jOjXm: goto GdUiq; goto Eoo7s; J8dGm: wxiD0: goto jOjXm; z3AkC: $wTg6C = $DB->get_record("\x75\x73\x65\162", array("\x69\144" => $zFR2u["\165\x69\144"])); goto mx7kU; Eoo7s: case "\x69\x64\x6e\x75\x6d\142\145\162": goto pu_l0; w5Zss: TI86N: goto QZ2Pr; j76L1: throw new invalid_parameter_exception("\x49\x6e\x76\141\154\151\x64\x20\x75\x73\145\162\x20\x62\171\x20\151\x64\x6e\x75\x6d\142\145\x72\x20" . $zFR2u["\x75\151\x64"]); goto w5Zss; iLBo0: if ($wTg6C) { goto TI86N; } goto j76L1; QZ2Pr: goto GdUiq; goto kYMjs; pu_l0: $wTg6C = $DB->get_record("\x75\163\145\x72", array("\151\x64\156\165\155\x62\145\x72" => $zFR2u["\165\151\x64"])); goto iLBo0; kYMjs: case "\165\x73\x65\162\156\141\155\x65": goto pJX_j; sbf3w: if ($wTg6C) { goto SvcB2; } goto kY0AK; qbiym: SvcB2: goto mTJLs; kY0AK: throw new invalid_parameter_exception("\x49\156\166\141\x6c\x69\x64\x20\165\x73\x65\162\40\142\171\40\x75\163\x65\x72\156\141\x6d\145\x20" . $zFR2u["\x75\151\x64"]); goto qbiym; pJX_j: $wTg6C = $DB->get_record("\x75\x73\145\x72", array("\165\x73\x65\x72\x6e\x61\x6d\145" => $zFR2u["\x75\x69\144"])); goto sbf3w; mTJLs: goto GdUiq; goto DcRNu; DcRNu: case "\145\x6d\141\x69\154": goto Ok0Ql; M5Qu5: throw new invalid_parameter_exception("\111\156\166\x61\x6c\x69\x64\x20\165\x73\x65\x72\40\142\171\40\165\163\145\x72\x6e\141\155\145\40" . $zFR2u["\x75\x69\144"]); goto GBUfg; GBUfg: ym_EF: goto q6s57; Ok0Ql: $wTg6C = $DB->get_record("\165\x73\145\162", array("\x65\x6d\x61\x69\154" => $zFR2u["\x75\151\144"])); goto GyQDA; GyQDA: if ($wTg6C) { goto ym_EF; } goto M5Qu5; q6s57: } goto Npiw4; FtVda: if (in_array($zFR2u["\165\x69\144\163\157\165\x72\143\x65"], array('', "\x69\x64", "\165\163\x65\162\156\141\x6d\x65", "\151\144\156\x75\x6d\x62\145\x72", "\145\x6d\x61\151\x6c"))) { goto DUDP6; } goto SQjXL; HQfeU: return $wTg6C; goto QM8Rh; QM8Rh: } protected static function get_user_course_stats($Gdkmx, $MlICt, $bBq30, $nvVDT, $C2vqr, $qQNDA, $cVGmr = 0) { goto Fu34V; jFfZ4: goto KrBsF; goto wHJAr; F2CG4: unsGB: goto Wz6Lh; xmgPO: $wTg6C = self::validate_user_parameters($zFR2u); goto T2Fun; uA7XT: return $e8K8I; goto qBePG; zIHGc: $e8K8I->coursedata = $BrDdA; goto uA7XT; TVIup: $BrDdA->activitytime = 0 + @$OGKhP["\141\143\164\151\166\x69\164\151\145\163"][$BKMWk->id]->elapsed; goto DBErI; gNuxw: Qkxe_: goto hDEcw; BDkhZ: $BrDdA->sitecoursetime = 0; goto Ei_oi; yN_KG: $zFR2u = array("\x75\151\x64\163\x6f\x75\x72\143\145" => $Gdkmx, "\165\151\x64" => $MlICt); goto xmgPO; GJ06U: $BrDdA->lastsession = 0; goto Av3WN; ya1p1: $BrDdA->sitecoursetime = 0 + @$OGKhP["\x63\157\x75\162\x73\145"][SITEID]->elapsed; goto FxTFH; oIDvj: $BrDdA->fullname = format_string($BKMWk->fullname); goto TVIup; eR0b7: $BrDdA->idnumber = $BKMWk->idnumber; goto oIDvj; a6OPD: $BrDdA->score = "\x2d"; goto jFfZ4; FxTFH: if (!array_key_exists("\x73\x65\163\163\151\x6f\x6e\163", $OGKhP)) { goto CdRJR; } goto HR1Zj; WgSzW: s85QS: goto gNuxw; bpsC4: if (!empty($qQNDA)) { goto UpDQw; } goto eHxaQ; wHJAr: OIHLR: goto yxZcD; ShtYr: $OGKhP = use_stats_aggregate_logs($Ayido, $C2vqr, $qQNDA, '', false, $BKMWk); goto JyjAA; XMy6I: UpDQw: goto yilo8; KBC1J: if (empty($Ayido)) { goto jhu1D; } goto ShtYr; JyjAA: jhu1D: goto GwAEY; KYQt_: MSVoH: goto Or4aE; jaaea: $BrDdA->othertime = 0; goto BDkhZ; nErZr: $BrDdA->coursetotal = $OGKhP["\x63\x6f\x75\x72\163\x65\x74\x6f\164\141\154"][$BKMWk->id]->elapsed; goto jZUN5; Or4aE: $BrDdA->id = $BKMWk->id; goto ntTYq; Wz6Lh: $OQwzg = $DB->get_record("\x67\x72\141\x64\x65\x5f\x67\162\x61\144\x65\x73", array("\151\164\x65\155\151\x64" => $iyenT->id, "\165\x73\x65\162\x69\144" => $wTg6C->id)); goto PVtQn; yxZcD: $BrDdA->score = $OQwzg->rawgrade; goto uA1z7; u70Vx: $o3J1B = new StdClass(); goto mv0xQ; HR1Zj: $e8Jv1 = array_shift(array_keys($OGKhP["\163\x65\x73\x73\151\x6f\156\163"])); goto kXEhr; d8n1B: $o3J1B->idnumber = $wTg6C->idnumber; goto wn4Zx; T2Fun: $zFR2u = array("\x63\151\144\x73\157\165\x72\x63\145" => $bBq30, "\143\151\x64" => $nvVDT); goto lBGvm; Mpo9M: $BrDdA->activitytime = 0; goto D98wM; uQKOS: $A6x61 = array_pop(array_keys($OGKhP["\x73\145\x73\163\151\157\x6e\163"])); goto zpI3A; V1dcY: CdRJR: goto CvVSM; jZUN5: $BrDdA->othertime = 0 + @$OGKhP["\157\164\150\145\162"]->elapsed; goto ya1p1; abD33: if ($iyenT = $DB->get_record("\147\162\141\144\x65\137\x69\x74\x65\x6d\163", array("\x69\164\x65\x6d\x74\171\160\145" => "\x63\157\165\162\163\145", "\143\157\x75\x72\x73\145\x69\144" => $BKMWk->id))) { goto unsGB; } goto WuHYa; Ei_oi: $BrDdA->firstsession = 0; goto GJ06U; LzZ51: $BrDdA->fullname = "\55"; goto Mpo9M; Bn1rW: if (!empty($Ayido) && array_key_exists("\143\157\165\x72\163\145", $OGKhP)) { goto MSVoH; } goto dkYTV; ntTYq: $BrDdA->shortname = $BKMWk->shortname; goto eR0b7; yuOh1: $BrDdA->lastsession = 0 + $WSqmf->sessionstart; goto V1dcY; DBErI: $BrDdA->coursetime = $OGKhP["\x63\157\165\x72\x73\x65"][$BKMWk->id]->elapsed; goto nErZr; mv0xQ: $o3J1B->id = $wTg6C->id; goto H4u5k; D98wM: $BrDdA->coursetime = 0; goto HBasm; wn4Zx: $e8K8I = new StdClass(); goto ICCfw; GwAEY: $BrDdA = new StdClass(); goto Bn1rW; C_c8m: $BrDdA->firstsession = 0 + $Nm4DN->sessionstart; goto uQKOS; eHxaQ: $qQNDA = time(); goto XMy6I; H4u5k: $o3J1B->username = $wTg6C->username; goto d8n1B; sm9sc: $BrDdA->idnumber = "\55"; goto LzZ51; yBWKi: $BrDdA->shortname = "\55"; goto sm9sc; zpI3A: $WSqmf = $OGKhP["\x73\x65\163\x73\x69\157\x6e\163"][$A6x61]; goto yuOh1; kXEhr: $Nm4DN = $OGKhP["\x73\145\x73\x73\x69\157\156\x73"][$e8Jv1]; goto C_c8m; PVtQn: if ($OQwzg) { goto OIHLR; } goto a6OPD; ICCfw: $e8K8I->user = $o3J1B; goto KBC1J; yilo8: $Ayido = use_stats_extract_logs($C2vqr, $qQNDA, $wTg6C->id); goto u70Vx; dkYTV: $BrDdA->id = 0; goto yBWKi; Av3WN: goto fS_pS; goto KYQt_; WuHYa: $BrDdA->score = "\x2d"; goto VyMtI; HBasm: $BrDdA->coursetotal = 0; goto jaaea; Fu34V: global $DB; goto yN_KG; lBGvm: $BKMWk = self::validate_course_parameters($zFR2u); goto bpsC4; uA1z7: KrBsF: goto WgSzW; hDEcw: fS_pS: goto zIHGc; VyMtI: goto s85QS; goto F2CG4; CvVSM: if (!$cVGmr) { goto Qkxe_; } goto abD33; qBePG: } }
